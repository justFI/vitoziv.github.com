
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->

<head>


<meta charset="utf-8">
<meta http-equiv="cleartype" content="on">

<title>iOS学习之Autolayout - VITO</title>
<meta name="author" content="Vito Zhang">




<meta name="description" content="Vito的技术博客, iOS开发, iOS学习, Design, 程序员, 开源, 分享">

<meta name="keywords" content="ios Vito的技术博客, iOS开发, iOS学习, Design, 程序员, 开源, 分享">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Twitter Cards -->

  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="/images/main-top-work.jpg"
  
  <meta name="twitter:title" content="iOS学习之Autolayout">
  <meta name="twitter:description" content="Vito的技术博客, iOS开发, iOS学习, Design, 程序员, 开源, 分享">
  <meta name="twitter:creator" content="@NoairZhangwei">


<!-- Open Graph -->
<meta property="og:local" content="en_US">
<meta property="og:type" content="article">
<meta property="og:url" content="http://vit0.com/blog/2013/12/07/iosxue-xi-zhi-autolayout">
<meta property="og:title" content="iOS学习之Autolayout">
<meta property="og:description" content="Vito的技术博客, iOS开发, iOS学习, Design, 程序员, 开源, 分享">

  <meta property="og:image" content="/images/main-top-work.jpg">

<meta property="og:site_name" content="VITO">

<link rel="canonical" href="http://vit0.com/blog/2013/12/07/iosxue-xi-zhi-autolayout">
<link href="/favicon.png" rel="icon">
<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
<link href="/atom.xml" rel="alternate" title="VITO" type="application/atom+xml">

<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>
<script>Modernizr || document.write('<script src="/javascripts/vendor/modernizr-2.6.2.custom.min.js"><\/script>') </script>



<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">


</head>

<body id="post" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">菜单</button>
	<ul class="dl-menu">
		<li><a href="/">主页</a></li>
		<li>
			<a href="#">关于</a>
			<ul class="dl-submenu">
				<li>
					<img src="/images/custom/vito-avatar.jpg" alt="Vito Zhang photo" class="author-photo">
					<h4>Vito Zhang</h4>
					<p>iOS 开发者一枚，目前就职于 Sumi Interactive。热爱生活，热爱 Coding。:]</p>
				</li>
				
				<li>
					<a href="mailto:vvitozhang@gmail.com"><i class="fa fa-envelope"></i> Email</a>
				</li>
				<li>
					<a href="http://twitter.com/NoairZhangwei"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				
				<li>
					<a href="http://github.com/vitoziv"><i class="fa fa-github"></i> GitHub</a>
				</li>
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">文章</a>
			<ul class="dl-submenu">
				<li><a href="/posts/">所有文章</a></li>
				<li><a href="/categories/">所有分类</a></li>
			</ul>
		</li>
		
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->



<div class="entry-header">
  
  <div class="entry-image">
    <img src="/images/main-top-work.jpg" alt="iOS学习之Autolayout">
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="hentry">
    <header class="header-title">
      <div class="header-title-wrap">
        
          <h1 class="entry-title"><a href="/blog/2013/12/07/iosxue-xi-zhi-autolayout/" rel="bookmark" title="iOS学习之Autolayout">iOS学习之Autolayout</a></h1>
        
        <h2>December 07, 2013</h2>
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      <h1>学习资料</h1>

<h3>文章</h3>

<ul>
<li><a href="http://www.raywenderlich.com/50317/beginning-auto-layout-tutorial-in-ios-7-part-1">Beginning Auto Layout Tutorial in iOS 7: Part 1
</a></li>
<li><a href="http://www.raywenderlich.com/50319/beginning-auto-layout-tutorial-in-ios-7-part-2">Beginning Auto Layout Tutorial in iOS 7: Part 2</a></li>
<li><a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/Introduction/Introduction.html">Auto Layout Guide（官方）</a></li>
</ul>


<p>前两篇文章对如何在xcode 5中使用autolayout讲得已经很详细了。我使用了一段时间autolayout的感觉是，一般情况下都可以通过xcode的ib上直接设置autolayout的各种属性完成项目需求，除非遇到需求比较复杂的布局。</p>

<p>官方的Auto Layout Guide讲得详细易懂，推荐</p>

<h3>WWDC视频</h3>

<h4>2012</h4>

<ul>
<li><a href="https://developer.apple.com/videos/wwdc/2012/?id=202">202 – Introduction to Auto Layout for iOS and OS X</a></li>
<li><a href="">228 – Best Practices for Mastering Auto Layout</a></li>
<li><a href="https://developer.apple.com/videos/wwdc/2012/?id=232">232 – Auto Layout by Example</a></li>
<li><a href="http://www.objc.io/issue-3/advanced-auto-layout-toolbox.html">以及obj.io对这三个视频的总结</a></li>
</ul>


<h4>2013</h4>

<ul>
<li><a href="https://developer.apple.com/wwdc/videos/?include=406#406">Taking Control of Auto Layout in Xcode 5</a></li>
</ul>


<h1>一些学习到的知识点整理</h1>

<h2>用代码创建一个 NSLayoutConstraint</h2>

<p>下面的方法遵循一个计算公式：</p>

<p><strong><code>view1.attribute1 = multiplier × view2.attribute2 + constant</code></strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="p">+</span> <span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nf">constraintWithItem:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">view1</span>
</span><span class='line'>                 <span class="nf">attribute:</span><span class="p">(</span><span class="n">NSLayoutAttribute</span><span class="p">)</span><span class="nv">attribute1</span>
</span><span class='line'>                 <span class="nf">relatedBy:</span><span class="p">(</span><span class="n">NSLayoutRelation</span><span class="p">)</span><span class="nv">relation</span>
</span><span class='line'>                  <span class="nf">toItem:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">view2</span>
</span><span class='line'>               <span class="nf">attribute:</span><span class="p">(</span><span class="n">NSLayoutAttribute</span><span class="p">)</span><span class="nv">attribute2</span>
</span><span class='line'>              <span class="nf">multiplier:</span><span class="p">(</span><span class="n">CGFloat</span><span class="p">)</span><span class="nv">multiplier</span>
</span><span class='line'>                <span class="nf">constant:</span><span class="p">(</span><span class="n">CGFloat</span><span class="p">)</span><span class="nv">constant</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>例子：</p>

<ul>
<li>Button.centerX = Superview.centerX</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">button</span>
</span><span class='line'>                           <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterX</span>
</span><span class='line'>                             <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span>
</span><span class='line'>                                <span class="nl">toItem</span><span class="p">:</span><span class="n">superview</span>
</span><span class='line'>                             <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterX</span>
</span><span class='line'>                            <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0f</span>
</span><span class='line'>                              <span class="nl">constant</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Button.bottom = Superview.bottom - <padding></li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'><span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="n">button</span>
</span><span class='line'>                           <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeBottom</span>
</span><span class='line'>                             <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span>
</span><span class='line'>                                <span class="nl">toItem</span><span class="p">:</span><span class="n">superview</span>
</span><span class='line'>                             <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeBottom</span>
</span><span class='line'>                            <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0f</span>
</span><span class='line'>                              <span class="nl">constant</span><span class="p">:</span><span class="o">-</span><span class="n">padding</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>


<p>创建完 NSLayoutConstraint 接下来要将它添加到 view 里，添加方法很简单，用 view 的<code>- (void)addConstraint:(NSLayoutConstraint *)constraint</code>添加。但是应该添加到哪个 view 里呢？</p>

<ol>
<li><p>兄弟 view 的 Constraint 添加到他们的 superview</p>

<p> <img src="/images/posts/2013-12-07-Cousin-choose.png" title="兄弟 view 之间添加 Constraint 到 superview" alt="兄弟 view 之间添加 Constraint 到 superview" /></p></li>
<li><p>两个 view 的父 view 是兄弟关系的，Constraint 添加到父 view 的 superview 上</p>

<p> <img src="/images/posts/2013-12-07-parent-cousin-choose.png" title="父 view 是兄弟关系的，Constraint 添加到父 view 的 superview 上" alt="父 view 是兄弟关系的，Constraint 添加到父 view 的 superview 上" /></p></li>
<li><p>如果两个 view 是 parent-child 关系，Constraint 添加到 parent view上</p>

<p> <img src="/images/posts/2013-12-07-parent-child-choose.jpg" title="如果两个 view 是 parent-child 关系，Constraint 添加到 parent view上" alt="如果两个 view 是 parent-child 关系，Constraint 添加到 parent view上" /></p></li>
</ol>


<h2>跨层级 view 之间的 Constraint</h2>

<p>有如下的视图层级：</p>

<pre><code>- View
    - UIScrollView
        - UISwitch
    - UIButton
</code></pre>

<p>其中UISwitch相对 UIScrollView 水平居中，和 ScrollView 同一层级有一个 UIButton，现在要始终保持 UIButton 的水平中点位置和 UISwitch 的水平中点位置在同一条线上。</p>

<p>为 UISwitch 的水平居中 Constraint 建立一个 IBOutlet。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'> <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">viewDidLoad</span> <span class="p">{</span>
</span><span class='line'>      <span class="p">[</span><span class="nb">super</span> <span class="n">viewDidLoad</span><span class="p">];</span>
</span><span class='line'>      <span class="c1">// Remove the IB-generated constraint centering the switch in its super view</span>
</span><span class='line'>      <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">scrollView</span> <span class="nl">removeConstraint</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">horizontalSwitchConstraint</span><span class="p">]</span>
</span><span class='line'>  
</span><span class='line'>      <span class="c1">// Add a new constraint centering the switch on the button</span>
</span><span class='line'>      <span class="bp">NSLayoutConstraint</span> <span class="o">*</span><span class="n">cn</span> <span class="o">=</span> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintWithItem</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">switchButton</span>
</span><span class='line'>                                                          <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterX</span>
</span><span class='line'>                                                          <span class="nl">relatedBy</span><span class="p">:</span><span class="n">NSLayoutRelationEqual</span>
</span><span class='line'>                                                             <span class="nl">toItem</span><span class="p">:</span><span class="nb">self</span><span class="p">.</span><span class="n">button</span>
</span><span class='line'>                                                          <span class="nl">attribute</span><span class="p">:</span><span class="n">NSLayoutAttributeCenterX</span>
</span><span class='line'>                                                         <span class="nl">multiplier</span><span class="p">:</span><span class="mf">1.0f</span>
</span><span class='line'>                                                           <span class="nl">constant</span><span class="p">:</span><span class="mi">0</span><span class="p">];</span>
</span><span class='line'>      <span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span> <span class="nl">addConstraint</span><span class="p">:</span><span class="n">cn</span><span class="p">];</span> 
</span><span class='line'>  <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>上面的的代码就实现了跨层级视图之间的 Constraint 设置。其实就是这么简单</p>

<h2>设置Autolayout有两个原则</h2>

<ul>
<li><strong>Ambiguous Layout</strong>(The constraints must be suficient)</li>
<li><strong>Unsatisfiable Constraints</strong>(The constraints must not conflict)</li>
</ul>


<h2>在 IB 中设置明确的宽度</h2>

<p>设置宽度有几个原则：</p>

<ul>
<li>如果一个 View 的宽高在显示的时候是不确定的：让 view 根据内容改变大小（size to fit size）</li>
<li>如果一个 View 有确定的大小：改变其宽度的 Constraint Relation 为 >=</li>
<li>正确的设置<strong>Content Hugging Priority（内容压缩优先级）</strong> 与 <strong>Content Compression Resistance Priority（内容抗压缩优先级）</strong></li>
</ul>


<h3>Relation（Greater/Less） 与 Priority</h3>

<p>Greater/Less 一般与 Priority 一起使用，为一个 Constraint 设置了 Greater/Less 后，调整 Priority。如果 Constraint 的 Priority 的值越大，程序优先设置它的 Constraint 效果。</p>

<p>如果两个 View 不在同一个层级，此时想要设置他们之间的 Constraint，只能通过代码实现。简单的方式是：先在 Xcode 中设置了 Constraint，然后为这个 Constraint 建立一个 IBOutlet，回到代码中，移除想要替换的 Constraint。</p>

<h3>Content Hugging Priority 与 Content Compression Resistance Priority</h3>

<p>含义：</p>

<ul>
<li>Content Hugging Priority（内容压缩优先级）</li>
<li>Content Compression Resistance Priority（内容抗压缩优先级）。</li>
</ul>


<p>如果 Constraint 发生冲突时，会先找优先级高的UIView，满足优先级高的UIView 的Constraint 后再依次找优先级低的 Constraint 满足，最后改变 View 的 Frame。如果发生多个 Constraint不能同时满足的情况，就发生了<strong>Unsatisfiable Constraints</strong>的错误。</p>

<h2>Visual Format Language</h2>

<p>VFL(Visual Format Language),提供了一种让代码以一种可视化的方式来设置不同 views 之间的 Constraint。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'> <span class="p">[</span><span class="bp">NSLayoutConstraint</span> <span class="nl">constraintsWithVisualFormat</span><span class="p">:</span><span class="s">@&quot;[cancelButton]-[acceptButton]&quot;</span><span class="p">]</span> <span class="nl">options</span><span class="p">:</span><span class="mi">0</span> <span class="nl">metrics</span><span class="p">:</span><span class="nb">nil</span> <span class="nl">views</span><span class="p">:</span><span class="n">viewsDictionary</span><span class="p">];</span>
</span><span class='line'>  
</span><span class='line'>  <span class="bp">UIButton</span> <span class="o">*</span><span class="n">cancelButton</span> <span class="o">=</span> <span class="p">...</span>
</span><span class='line'>  <span class="bp">UIButton</span> <span class="o">*</span><span class="n">acceptButton</span> <span class="o">=</span> <span class="p">...</span>
</span><span class='line'>  <span class="n">viewsDictionary</span> <span class="o">=</span> <span class="n">NSDictionaryOfVariableBindings</span><span class="p">(</span><span class="n">cancelButton</span><span class="p">,</span> <span class="n">acceptButton</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p><strong>Examples:</strong></p>

<table>
<thead>
<tr>
<th>Property </th>
<th> Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td>Inequality,Priority </td>
<td> [wideView(>=60@700)]</td>
</tr>
<tr>
<td>Vertical:Flush Views,Equal Heights </td>
<td> V:[redBox][yellowBox(==redBox)]</td>
</tr>
<tr>
<td>Combination </td>
<td> H:|-[Find]-[FindNext]-[FindField(>=20)]-</td>
</tr>
</tbody>
</table>


<p><img src="/images/posts/2013-12-07-vfl01.png" title="Inequality,Priority" alt="Inequality,Priority" />
<img src="/images/posts/2013-12-07-vfl02.png" title="Vertical:Flush Views,Equal Heights" alt="Vertical:Flush Views,Equal Heights" />
<img src="/images/posts/2013-12-07-vfl03.png" title="Combination" alt="Combination" /></p>

<h2>Constraint 在什么时候更新</h2>

<p><img src="/images/posts/2013-12-07-autolayout_phases_of_display.png" title="autolayout_phases_of_display" alt="autolayout_phases_of_display" /></p>

<p>UIView中</p>

<pre><code>-setNeesdDisplay
-setNeedsLayout
-setNeedsUpdateConstraints
</code></pre>

<p>UIView/UIWindow中</p>

<pre><code>-layoutIfNeeded
</code></pre>

<h2>关于 intrinsicContentSize</h2>

<p>在 UIView 中有个方法<code>-intrinsicContentSize</code>,用于指定一个 view 的 width 和 height，设置了<code>-intrinsicContentSize</code>相当于设置一个不可变的长度或者宽度。有点像 UISlider 只能设置宽度，不能设置高度那样。</p>

<h2>Debug</h2>

<ol>
<li><p>在 Xcode 中，设置 Autolayout 时可能出现3种状态，分别会出现黄色、红色、蓝色的线或线框。</p>

<ul>
<li>出现<strong>黄色</strong>的线或者线框表示：View 根据设置的 Constraints 最后计算出的 frame 位置和在xib 中 view 目前显示的位置不一致。此时并没有错误，只要更新一下 Update frames 以下就好</li>
<li>出现<strong>红色</strong>的线或者线框表示：出现了<strong>Ambiguous Layout</strong>（Constraints 太少以至不能确定一个 view 的位置）或者<strong>Unsatisfiable Constraints</strong>（Constraints 有冲突，确定 view 一个方向上的 Constraints 超过1个）。这种情况要找到没有正确设置 Constraints 的 View 添加缺失的 Constraints 或者删除多余的 Constraints。</li>
<li><strong>蓝色</strong>线条或者线框表示这个 view 的 Constraints 正确设置，并且 view 目前显示的位置和 Constraints 计算得出的最终位置是在同一个地方。</li>
</ul>
</li>
<li><p>在代码添加 Constraints 的 Debug 方法。</p>

<ul>
<li>在控制台输出AutolayoutTrace：<code>po [[UIWindow keyWindow] _autolayoutTrace]</code>。如果此时有<strong>Ambiguous Layout</strong>或<strong>Unsatisfiable Constraints</strong>，可以在输出的代码中看到。</li>
</ul>
</li>
<li><p>有用的 debugging defaults</p>

<ul>
<li>双倍的国际化字符串：<code>NSDoubleLocalizedStrings YES</code></li>
<li>显示视图的对齐框： <code>UIViewShowAlignmentRects YES</code></li>
</ul>
</li>
</ol>


<h2>AutoresizingMask自动转化成 Constraint</h2>

<p>view有一个 translatesAutoresizingMaskIntoConstraints 属性，如果设置为 NO，那么在运行时，程序不会自动将AutoresizingMask转化成 Constraint。</p>

<h2>Animation</h2>

<p>关键是在 UIView Animation 中调用<code>[view layoutIfNeeded]</code></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='objc'><span class='line'> 
</span><span class='line'><span class="p">[</span><span class="n">UIview</span> <span class="nl">animateWithDuration</span><span class="p">:</span><span class="mf">1.0</span> <span class="nl">animations</span><span class="p">:</span><span class="o">^</span><span class="p">{</span>
</span><span class='line'>  <span class="c1">// Constraint Changed...</span>
</span><span class='line'>  
</span><span class='line'>  <span class="p">[</span><span class="n">view</span> <span class="n">layoutIfNeeded</span><span class="p">];</span>
</span><span class='line'><span class="p">}];</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Github上一些好用的Autolayout第三方库</h2>

<ul>
<li><a href="https://github.com/cloudkite/Masonry">Masonry</a></li>
<li><a href="https://github.com/smileyborg/UIView-AutoLayout">UIView AutoLayout</a></li>
</ul>


      <footer class="entry-meta">
        <span class="entry-tags"><a href="/categories/#ios" title="Pages tagged ios" class="tag">ios</a></span>
        <span><a href="/blog/2013/12/07/iosxue-xi-zhi-autolayout/" rel="bookmark" title="iOS学习之Autolayout">iOS学习之Autolayout</a> was published on <span class="entry-date date published updated"><time datetime="2013-12-07T09:54:00+08:00">December 07, 2013</time></span></span>
        
        <span class="author vcard"><span class="fn"><a href="" title="About Vito Zhang">Vito Zhang</a></span></span>
        
      </footer>
    </div><!-- /.entry-content -->
    
      <div class="read-more">
        
          <div class="read-more-header">
            <a href="/blog/2014/12/25/ios-textview-in-cell/" class="btn">Read More</a>
          </div><!-- /.read-more-header -->
          <div class="read-more-content">
            <h3><a href="/blog/2014/12/25/ios-textview-in-cell/" title="iOS UITextView 输入内容实时更新 cell 的高度">iOS UITextView 输入内容实时更新 cell 的高度</a></h3>
            <p>这篇文章介绍了在一个动态数据的 table view 中，cell 根据 text view 内容的输入实时改变 cell 和 table view 的高度。自动计算 cell 高度的功能使用 iOS 8 才支持的自适应 cell，如果你还不知道 iOS 8 自适应 cell， &hellip;&hellip; <a href="/blog/2014/12/25/ios-textview-in-cell/"> Continue reading</a></p>
          </div><!-- /.read-more-content -->
        
        <div class="read-more-list">
          
            <div class="list-item">
              <h4><a href="/blog/2014/11/13/ios-8-zi-shi-ying-cell/" title="iOS 8 自适应 Cell">iOS 8 自适应 Cell</a></h4>
              <span>Published on November 13, 2014</span>
            </div><!-- /.list-item -->
          
            <div class="list-item">
              <h4><a href="/blog/2014/11/12/ios-8-extension-today-widget-kai-fa-zong-jie/" title="iOS 8 Extension Today Widget 开发总结：数据共享">iOS 8 Extension Today Widget 开发总结：数据共享</a></h4>
              <span>Published on November 12, 2014</span>
            </div><!-- /.list-item -->
          
        </div><!-- /.read-more-list -->
      </div><!-- /.read-more -->
    
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2014 Vito Zhang. Powered by <a href="http://octopress.org">Octopress</a> using the <a href="https://github.com/Z1MM32M4N/hpstr-theme/">HPSTR Theme for Octopress</a>.</span>

  </footer>
</div><!-- /.footer-wrapper -->


	        
<script src="/javascripts/vendor/jquery-1.9.1.min.js"></script>
<script src="/javascripts/octopress.js" type="text/javascript"></script>
<script src="/javascripts/scripts.min.js"></script>

  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39495280-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>




<script type="text/javascript">
      var disqus_shortname = 'vitoziv';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://vit0.com/blog/2013/12/07/iosxue-xi-zhi-autolayout/';
        var disqus_url = 'http://vit0.com/blog/2013/12/07/iosxue-xi-zhi-autolayout/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


	        

</body>
</html>
